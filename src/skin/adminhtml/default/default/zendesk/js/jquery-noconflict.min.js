//     noconflict.js, version 0.1
//     (c) 2011-2012 Matt Brown
//     License: BSD (see LICENSE)
(function(){var e=this,t="0.1",n=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},r=function(e){return typeof e=="function"},i=function(e){return Object.prototype.toString.call(e)==="[object String]"},s=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},o=function(e,t){for(var n in t)e[n]=t[n];return e},u=function(t,r){i(t)&&(t=[t]),n(t)||(r=t,t=[]),r||(r={}),this._symbols=[],this._settings={context:e,useNative:!0,ensureDefined:!0},o(this._settings,r),this._symbolCache={},this._namespace=null,this.cache(t)};u.context=function(e,t){return new u(e,t)},u.prototype.namespace=function(){return this._namespace||this.noConflict()._namespace},u.prototype.get=function(e){return this.namespace().get(e)},u.prototype.with=function(e){return this.namespace().with(e)},u.prototype.noConflict=function(){this._namespace||(this._namespace=new a);if(!arguments.length)return this._symbols.length?this.noConflict.apply(this,this._symbols):this;if(arguments.length===1){var e=arguments[0],t=[];typeof e.symbol!="undefined"&&(t=e.args,e=e.symbol);var n=this.resolve(e);if(n&&this._settings.useNative&&r(n.noConflict)){var i=n.noConflict.apply(n,t);this._settings.ensureDefined&&typeof this.resolve(e)=="undefined"&&this.reset(e,i)}else this.reset(e,this._symbolCache[e]);return this._namespace.set(e,n),this}for(var s=0;s<arguments.length;s++)this.noConflict(arguments[s]);return this},u.prototype.cache=function(){if(arguments.length===1&&n(arguments[0]))return this.cache.apply(this,arguments[0]);for(var e=0;e<arguments.length;e++){var t=typeof arguments[e].symbol!="undefined"?arguments[e].symbol:arguments[e];t in this._symbolCache||this._symbols.push(arguments[e]),this._symbolCache[t]=this.resolve(t)}return this},u.prototype.reset=function(e,t){var n=(e||"").split("."),r=n.pop(),i=n.length?this.resolve(n):this._settings.context;return/undefined/.test(typeof i+typeof r)||(typeof t=="undefined"?this._settings.ensureDefined||(i[r]=t,delete i[r]):i[r]=t),this},u.prototype.resolve=function(e,t){return t||(t=this._settings.context),n(e)||(e=e.split(".")),t=t[e.shift()],!e.length||typeof t=="undefined"?t:this.resolve(e,t)},u.prototype.clear=function(){this._symbolCache={}},u.prototype.mixin=function(e){e=o({ensureDefined:!1},e||{}),e.useNative=!1;var t=u.context(this._symbols,o(s(this._settings),e));return function(){this.noConflict=function(){var e=null;return t.with(function(){e=arguments.length===1?arguments[0]:this.get()}),e}}},u.prototype.version=t;var a=function(){this._keys=[],this._data={}};a.prototype.set=function(e,t){return e in this._data||this._keys.push(e),this._data[e]=t,this},a.prototype.get=function(e){return e?this._data[e]:this._data},a.prototype.getValues=function(){var e=[];for(var t=0;t<this._keys.length;t++)e.push(this.get(this._keys[t]));return e},a.prototype.with=function(e){r(e)&&e.apply(this,this.getValues())};var f=u.context;f.version=t,u.context("NoConflict").mixin().call(f),e.NoConflict=f,typeof e.define=="function"&&e.define(function(){return e.NoConflict.noConflict()})}).call(null);